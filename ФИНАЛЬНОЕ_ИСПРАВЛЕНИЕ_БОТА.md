# üîß –§–ò–ù–ê–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ë–û–¢–ê - –ü–†–û–ë–õ–ï–ú–ê –° DAILY

## üî¥ –ù–ê–ô–î–ï–ù–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ:
```
[BOT] –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: {"messenger":"VK","city":"–ú–æ—Å–∫–≤–∞","followers":1000,"real":"yes","name":"–í–∞—Å—è –ü–µ—Ç—Ä–æ–≤"}
[BOT] –î–∞–Ω–Ω—ã–µ –ø–æ–ª–Ω—ã–µ –¥–ª—è 7180687130? false
üìù –ï—â—ë –Ω—É–∂–Ω–æ: ‚Ä¢ —Ö–æ—á–µ—à—å –ª–∏ –ø–æ–ª—É—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
```

**–ü–†–û–ë–õ–ï–ú–ê:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—Ç–∏–ª "–î–∞" –Ω–∞ –≤–æ–ø—Ä–æ—Å –ø—Ä–æ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è, –Ω–æ –ø–æ–ª–µ `daily` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å!

**–ü–†–ò–ß–ò–ù–ê:** –ú–æ—è —Ñ—É–Ω–∫—Ü–∏—è `applyContextualYesNo` —É–¥–∞–ª—è–ª–∞ –ø–æ–ª—è, –Ω–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–ª–∞ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –µ—Å–ª–∏ OpenAI –≤–µ—Ä–Ω—É–ª `daily: null`.

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ `src/lib/telegram-init.ts`:

```typescript
// –ë–´–õ–û:
function applyContextualYesNo(extracted, collectedData) {
  if (topic === 'daily' && !collectedData.daily) {
    delete result.real
    result.daily = Boolean(value) // ‚ùå –ù–ï –°–†–ê–ë–ê–¢–´–í–ê–õ–û!
  }
}

// –°–¢–ê–õ–û:
function applyContextualYesNo(extracted, collectedData) {
  if (topic === 'daily' && collectedData.daily === undefined) {
    delete result.real
    result.daily = Boolean(value) // ‚úÖ –¢–ï–ü–ï–†–¨ –°–†–ê–ë–ê–¢–´–í–ê–ï–¢!
    console.log(`[CONTEXT] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω daily = ${value}`)
  }
}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ `collectedData.daily === undefined` –≤–º–µ—Å—Ç–æ `!collectedData.daily`

---

## üì¶ –ö–û–ú–ê–ù–î–ê –î–õ–Ø –û–ë–ù–û–í–õ–ï–ù–ò–Ø

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (MobaXterm Local Terminal):
cd /drives/d/Users/Desktop/mb-trust/mb-trust
scp src/lib/telegram-init.ts root@109.69.58.185:/var/www/mb-trust/src/lib/telegram-init.ts
```

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
ssh root@109.69.58.185
cd /var/www/mb-trust
npm run build
sudo systemctl restart mb-trust
journalctl -u mb-trust -f
```

---

## üß™ –ü–†–û–í–ï–†–ö–ê

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –Ω–æ–≤—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é:

1. `/start` —Å –∫–æ–¥–æ–º
2. –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
3. **–ù–∞ –≤–æ–ø—Ä–æ—Å –ø—Ä–æ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è** ‚Üí –æ—Ç–≤–µ—Ç—å—Ç–µ "–î–∞"

**–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
[CONTEXT] –û–±–Ω–∞—Ä—É–∂–µ–Ω –∫–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç "–î–∞" –Ω–∞ –≤–æ–ø—Ä–æ—Å —Ç–∏–ø–∞: daily
[CONTEXT] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω daily = true
[BOT] –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –¥–ª—è XXX: {"daily":true}
[BOT] –î–∞–Ω–Ω—ã–µ –ø–æ–ª–Ω—ã–µ –¥–ª—è XXX? true
[BOT] –ó–∞–≤–µ—Ä—à–∞–µ–º –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é...
‚úÖ –û—Ç–ª–∏—á–Ω–æ! –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–±—Ä–∞–Ω—ã.
```

---

## ‚úÖ –¢–ï–ü–ï–†–¨ –¢–û–ß–ù–û –ó–ê–†–ê–ë–û–¢–ê–ï–¢!

–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ —É—Å–ª–æ–≤–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ `!collectedData.daily` vs `collectedData.daily === undefined`

- `!collectedData.daily` ‚Üí `false` –¥–ª—è `undefined` –ò –¥–ª—è `false`
- `collectedData.daily === undefined` ‚Üí `true` –¢–û–õ–¨–ö–û –¥–ª—è `undefined`

–¢–µ–ø–µ—Ä—å –ª–æ–≥–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è! üéØ

