# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: Telegram –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ UI –ö–∞—Ä—Ç–æ—á–µ–∫ –ó–∞–¥–∞–Ω–∏–π

## üéØ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. ‚úÖ Telegram –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–¥–∞

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:
> –ü—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Ç–µ–ª–µ–≥—Ä–∞–º –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è —Ç–∞–∫–æ–µ –∂–µ –æ–∫–Ω–æ –∫–∞–∫ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –≥–¥–µ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∫–æ–¥, –∏ –Ω—É–∂–Ω–æ –ª–∏–±–æ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –≤ –±–æ—Ç–∞, –ª–∏–±–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É –≤—Ä—É—á–Ω—É—é, —Ç–æ–≥–¥–∞ —Ç–µ–±—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤—ã–≤–∞–µ—Ç.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
1. `src/components/auth/TelegramAuthFlow.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram
2. `src/app/api/verification/telegram/check/route.ts` - API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–¥–∞

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
3. `src/app/auth/signin/page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –Ω–∞ TelegramAuthFlow

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /auth/signin –Ω–∞–∂–∏–º–∞–µ—Ç "Telegram"
   ‚Üì
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç TelegramAuthFlow
   ‚Üì
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–¥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
   (POST /api/verification/telegram/start)
   ‚Üì
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:
   - –ë–æ–ª—å—à–æ–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: A3F5B2)
   - –ö–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å Telegram –±–æ—Ç–∞" (deepLink)
   - –ö–Ω–æ–ø–∫—É "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥"
   ‚Üì
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª–∏–±–æ:
   - –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –±–æ—Ç–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç /start
   - –ö–æ–ø–∏—Ä—É–µ—Ç –∫–æ–¥ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±–æ—Ç–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥ –≤—Ä—É—á–Ω—É—é
   ‚Üì
6. –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–¥ ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ –ë–î ‚Üí —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
   (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ telegram-init.ts)
   ‚Üì
7. –ü–æ—Å–ª–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –±–æ—Ç –≤—ã–∑—ã–≤–∞–µ—Ç /api/verification/telegram/complete
   ‚Üí –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è telegramId, isVerified = true
   ‚Üì
8. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç TelegramAuthFlow –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç
   (POST /api/verification/telegram/check)
   ‚Üì
9. –ö–æ–≥–¥–∞ –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è signIn('telegram')
   ‚Üì
10. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ dashboard
```

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç TelegramAuthFlow –≤–∫–ª—é—á–∞–µ—Ç:

```tsx
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
- –ë–æ–ª—å—à–æ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–π –∫–æ–¥ —Å –∫–Ω–æ–ø–∫–æ–π –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å Telegram –±–æ—Ç–∞" (deepLink)
- –ö–Ω–æ–ø–∫–∞ "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥" (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏–∑ 3 —à–∞–≥–æ–≤
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–û–∂–∏–¥–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏..."
- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
```

---

### 2. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –∑–∞–¥–∞–Ω–∏–π

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:
> –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ, —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ—Å—É—Ä—Å, –¥–∞—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è, –ª–æ–∫–∞—Ü–∏—è, —Å–æ—Ü—Å–µ—Ç—å –∏ –¥–µ–¥–ª–∞–π–Ω, –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç—Ä–≥–æ–Ω–æ–º–∏—á–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
1. `prisma/schema.prisma` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `targetUrl` –≤ –º–æ–¥–µ–ª—å Order
2. `src/lib/ui-types.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `targetUrl` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å OrderUI
3. `src/components/business/OrderCard.tsx` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –¥–∏–∑–∞–π–Ω
4. `src/app/api/orders/route.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ targetUrl –≤ select –∏ create

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–¥–∞–Ω–∏—è (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è):

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  [–°—Ç–∞—Ç—É—Å]                              [üóëÔ∏è –£–¥–∞–ª–∏—Ç—å]   ‚îÇ ‚Üê –≤–µ—Ä—Ö
‚îÇ                                                          ‚îÇ
‚îÇ  –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è                           1000‚ÇΩ      ‚îÇ ‚Üê –∑–∞–≥–æ–ª–æ–≤–æ–∫ + —Ü–µ–Ω–∞
‚îÇ  –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–º...                           ‚îÇ
‚îÇ                                      0 / 5 –≤—ã–ø–æ–ª–Ω–µ–Ω–æ    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  üîó https://example.com/post/123                       ‚îÇ ‚Üê —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ—Å—É—Ä—Å
‚îÇ  ‚ï∞‚îÄ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ          ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  üì± Instagram    üìç –ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è                     ‚îÇ ‚Üê —Å–æ—Ü—Å–µ—Ç—å + –ª–æ–∫–∞—Ü–∏—è
‚îÇ  ‚è∞ –î–æ 25 –¥–µ–∫    üìÖ 20 –Ω–æ—è                             ‚îÇ ‚Üê –¥–µ–¥–ª–∞–π–Ω + –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
‚îÇ  üë• 18-25 –ª–µ—Ç, —Å—Ç—É–¥–µ–Ω—Ç—ã                                ‚îÇ ‚Üê —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
‚îÇ  –ó–∞–∫–∞–∑—á–∏–∫: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ [VERIFIED]                     ‚îÇ ‚Üê –∑–∞–∫–∞–∑—á–∏–∫
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ ‚Üê –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ  ‚îÇ –ì–æ—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä.   ‚îÇ  QR –∫–æ–¥          ‚îÇ                ‚îÇ
‚îÇ  ‚îÇ  [IMAGE]         ‚îÇ  [QR]            ‚îÇ                ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é:                               ‚îÇ ‚Üê —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
‚îÇ  ‚Ä¢ –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —Å—Ç–æ—Ä–∏—Å Instagram                       ‚îÇ
‚îÇ  ‚Ä¢ –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–∑–º–µ—â–µ–Ω–∏—è                         ‚îÇ
‚îÇ  ‚Ä¢ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏                     ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  [         –ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑          ]                    ‚îÇ ‚Üê –∫–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

1. **–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ—Å—É—Ä—Å** (targetUrl):
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π üîó
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
   - –ö—Ä–∞—Å–∏–≤—ã–π hover —ç—Ñ—Ñ–µ–∫—Ç (–±–∏—Ä—é–∑–æ–≤–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞)
   - Truncate –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

2. **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–µ—Ç–∫–∞ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**:
   - 2 –∫–æ–ª–æ–Ω–∫–∏ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏
   - –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
   - –ú–µ–ª–∫–∏–π —à—Ä–∏—Ñ—Ç (text-xs) –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞
   - –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–µ–¥–ª–∞–π–Ω - –∑–æ–ª–æ—Ç–æ–π, –æ—Å—Ç–∞–ª—å–Ω–æ–µ - –±–∏—Ä—é–∑–æ–≤–æ–µ)

3. **–£–ª—É—á—à–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**:
   - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞ (2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ)
   - –ó–∞–≥–æ–ª–æ–≤–∫–∏ uppercase –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - QR –∫–æ–¥ –Ω–∞ –±–µ–ª–æ–º —Ñ–æ–Ω–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞
   - Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –±–æ—Ä–¥–µ—Ä–∞—Ö

4. **–°—Ç–∞—Ç—É—Å –±–µ–π–¥–∂**:
   - –°–ª–µ–≤–∞ –≤–≤–µ—Ä—Ö—É
   - –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ:
     - PENDING ‚Üí —Å–µ—Ä—ã–π
     - IN_PROGRESS ‚Üí –±–∏—Ä—é–∑–æ–≤—ã–π
     - COMPLETED ‚Üí –∑–æ–ª–æ—Ç–æ–π
     - CANCELLED ‚Üí –∫—Ä–∞—Å–Ω—ã–π

5. **–ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è**:
   - –ú–∞–ª–µ–Ω—å–∫–∞—è –∏–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã (16x16 px)
   - –°–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É
   - –ö—Ä–∞—Å–Ω—ã–π hover —ç—Ñ—Ñ–µ–∫—Ç

#### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:

- **–ú–æ–±–∏–ª—å–Ω—ã–µ**: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ 1 –∫–æ–ª–æ–Ω–∫—É
- **–ü–ª–∞–Ω—à–µ—Ç—ã/–¥–µ—Å–∫—Ç–æ–ø**: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ 2 –∫–æ–ª–æ–Ω–∫–∏
- **–í—Å–µ —Ä–∞–∑–º–µ—Ä—ã**: —Å–µ—Ç–∫–∞ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è

---

## üìä –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ OrderCard

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- ‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞–Ω–∏—è (–±–µ–π–¥–∂ —Å–ª–µ–≤–∞ –≤–≤–µ—Ä—Ö—É)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (–∏–∫–æ–Ω–∫–∞ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
- ‚úÖ –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (–±–µ–π–¥–∂ —Å–ø—Ä–∞–≤–∞ –æ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (X / Y –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

### –°—Å—ã–ª–∫–∞:
- ‚úÖ **–ù–û–í–û–ï:** –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ—Å—É—Ä—Å (targetUrl) - –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è, —Å –∏–∫–æ–Ω–∫–æ–π

### –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Å–µ—Ç–∫–∞ 2x2):
- ‚úÖ –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å (–∏–∫–æ–Ω–∫–∞ + –Ω–∞–∑–≤–∞–Ω–∏–µ)
- ‚úÖ –õ–æ–∫–∞—Ü–∏—è (–≥–æ—Ä–æ–¥, —Ä–µ–≥–∏–æ–Ω, —Å—Ç—Ä–∞–Ω–∞)
- ‚úÖ –î–µ–¥–ª–∞–π–Ω (—Å—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- ‚úÖ –î–∞—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è (createdAt)
- ‚úÖ –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞)
- ‚úÖ –ó–∞–∫–∞–∑—á–∏–∫ (–∏–º—è + —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è)

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
- ‚úÖ –ì–æ—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- ‚úÖ QR –∫–æ–¥ (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- ‚úÖ –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é

### –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑" (–¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ (–¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –ø–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è)

---

## üóÑÔ∏è –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –≤ –º–æ–¥–µ–ª—å Order:

```prisma
model Order {
  // ...
  targetUrl     String?     // –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ—Å—É—Ä—Å (–ø–æ—Å—Ç, —Å—Ç–æ—Ä–∏—Å –∏ —Ç.–¥.)
  // ...
}
```

### –ú–∏–≥—Ä–∞—Ü–∏—è:

```bash
npx prisma generate   # ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ
npx prisma db push    # –ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```

---

## üìÅ –§–∞–π–ª—ã

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ:
1. `src/components/auth/TelegramAuthFlow.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. `src/app/api/verification/telegram/check/route.ts` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ:
3. `src/app/auth/signin/page.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è TelegramAuthFlow
4. `prisma/schema.prisma` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ targetUrl
5. `src/lib/ui-types.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ targetUrl –≤ OrderUI
6. `src/components/business/OrderCard.tsx` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –¥–∏–∑–∞–π–Ω
7. `src/app/api/orders/route.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ targetUrl

---

## üöÄ –î–µ–ø–ª–æ–π

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î:

```bash
cd /var/www/mb-trust
npx prisma generate
npx prisma db push
```

### 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:

```bash
npm run build
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
sudo systemctl restart mb-trust
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

### Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/auth/signin`
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Telegram"
3. –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —ç–∫—Ä–∞–Ω —Å –∫–æ–¥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä: **A3F5B2**)
4. –ö–Ω–æ–ø–∫–∏:
   - "–û—Ç–∫—Ä—ã—Ç—å Telegram –±–æ—Ç–∞" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ deepLink
   - "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥" ‚Üí –∫–æ–¥ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–¥ –±–æ—Ç—É
6. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### UI –∫–∞—Ä—Ç–æ—á–µ–∫ –∑–∞–¥–∞–Ω–∏–π:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/dashboard/customer` (–∫–∞–∫ –∑–∞–∫–∞–∑—á–∏–∫)
2. –ò–ª–∏ `/executor/available` (–∫–∞–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É –∑–∞–¥–∞–Ω–∏—è:
   - ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö—É
   - ‚úÖ –¶–µ–Ω–∞ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (–º–∞–ª–µ–Ω—å–∫–∞—è, —Å–ø—Ä–∞–≤–∞) - –¥–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞
   - ‚úÖ –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ—Å—É—Ä—Å (–µ—Å–ª–∏ –µ—Å—Ç—å) - –ø–æ–¥ –æ–ø–∏—Å–∞–Ω–∏–µ–º
   - ‚úÖ –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Å–æ—Ü—Å–µ—Ç—å, –ª–æ–∫–∞—Ü–∏—è, –¥–µ–¥–ª–∞–π–Ω, –¥–∞—Ç–∞) - —Å–µ—Ç–∫–∞ 2x2
   - ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ)
   - ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑" - –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ**: 2
- **–§–∞–π–ª–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–æ**: 5
- **–ü–æ–ª–µ–π –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –ë–î**: 1 (`targetUrl`)
- **API endpoints —Å–æ–∑–¥–∞–Ω—ã**: 1 (`/api/verification/telegram/check`)

---

## üé® –î–∏–∑–∞–π–Ω —É–ª—É—á—à–µ–Ω–∏—è

### OrderCard - –¥–æ –∏ –ø–æ—Å–ª–µ:

**–ë–´–õ–û:**
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ —Ü–µ–Ω–∞
- –û–ø–∏—Å–∞–Ω–∏–µ
- –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–º–µ—à–∞–Ω–∞
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- –ù–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ä–µ—Å—É—Ä—Å

**–°–¢–ê–õ–û:**
- ‚úÖ –ß—ë—Ç–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- ‚úÖ –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ—Å—É—Ä—Å –æ—Ç–¥–µ–ª—å–Ω–æ –≤—ã–¥–µ–ª–µ–Ω–∞
- ‚úÖ –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–π —Å–µ—Ç–∫–µ —Å –∏–∫–æ–Ω–∫–∞–º–∏
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ 2 –∫–æ–ª–æ–Ω–∫–∏
- ‚úÖ –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:

- **–ë–∏—Ä—é–∑–æ–≤—ã–π** (`text-mb-turquoise`): –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, —Å–æ—Ü—Å–µ—Ç—å, –ª–æ–∫–∞—Ü–∏—è, —Å—Å—ã–ª–∫–∞
- **–ó–æ–ª–æ—Ç–æ–π** (`text-mb-gold`): —Ü–µ–Ω–∞, –¥–µ–¥–ª–∞–π–Ω
- **–°–µ—Ä—ã–π** (`text-mb-gray`): –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–ë–µ–ª—ã–π** (`text-mb-white`): –∑–∞–≥–æ–ª–æ–≤–∫–∏, –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–ö—Ä–∞—Å–Ω—ã–π** (`text-red-500`): –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è, –æ—à–∏–±–∫–∏

---

## üîç –û—Ç–ª–∞–¥–∫–∞

### Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - –ª–æ–≥–∏:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
[TELEGRAM AUTH] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞...
[TELEGRAM AUTH CHECK] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞: A3F5B2
[TELEGRAM AUTH CHECK] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω –∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
[TELEGRAM AUTH] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ –±–æ—Ç–∞
[TELEGRAM SIGNIN] –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Ä–µ–¥–∏—Ä–µ–∫—Ç...
```

### –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

**"–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `TELEGRAM_BOT_TOKEN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

**"–ö–æ–¥ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω (`journalctl -u mb-trust | grep "Telegram –±–æ—Ç"`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API endpoint `/api/verification/telegram/check`

**"–ü–æ—Å–ª–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å `telegramId` –≤ –ë–î
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `isVerified = true`

---

## ‚ú® –ì–æ—Ç–æ–≤–æ!

1. ‚úÖ **Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–¥–∞** (–∫–∞–∫ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
2. ‚úÖ **OrderCard –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —ç—Ä–≥–æ–Ω–æ–º–∏—á–Ω–æ**:
   - –ù–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ
   - –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ—Å—É—Ä—Å
   - –î–∞—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
   - –õ–æ–∫–∞—Ü–∏—è
   - –°–æ—Ü—Å–µ—Ç—å
   - –î–µ–¥–ª–∞–π–Ω
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ QR –∫–æ–¥
   - –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π!** üöÄ

